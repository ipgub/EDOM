<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDOM Interaktif - Mobile Optimized</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="img/UBakrie2.ico">
    
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            padding: 10px;
        }
        
        .container { 
            max-width: 100%;
            margin: 0 auto; 
        }
        
        .header {
            background: linear-gradient(135deg, #a91b60 0%, #6b1742 100%);  
            /* 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            */
            color: white;
            padding: 30px 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .content-section {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .section-title {
            font-size: 1.8rem;
            color: #2563eb;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        /* Mobile-optimized Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
            padding: 20px 15px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #e2e8f0;
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            /* transform: translateY(-2px); */
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            border-color: #3b82f6;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #3b82f6;
            margin-bottom: 8px;
            display: block;
        }
        
        .stat-label {
            color: #64748b;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        /* Mobile-friendly buttons */
        .data-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .selector-btn {
            padding: 15px 10px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            font-size: 0.9rem;
            text-align: center;
            background: #f1f5f9;
            color: #64748b;
            transition: all 0.3s ease;
            touch-action: manipulation;
        }
        
        .selector-btn.active {
            background: #3b82f6;
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
            transform: translateY(-1px);
        }
        
        .selector-btn:hover:not(.active) {
            background: #e2e8f0;
        }
        
        /* Chart container with proper sizing */
        .chart-container {
            position: relative;
            width: 100%;
            height: 350px;
            margin: 20px 0;
            background: white;
            border-radius: 12px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            overflow: hidden;
        }
        
        .chart-status {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            color: #6b7280;
            font-size: 1.1rem;
            text-align: center;
        }
        
        #myChart {
            width: 100% !important;
            height: 100% !important;
            max-width: 100%;
            max-height: 100%;
        }
        
        /* Alert boxes */
        .alert-box {
            padding: 15px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 5px solid;
        }
        
        .alert-info {
            background: #dbeafe;
            border-left-color: #3b82f6;
            color: #1e40af;
        }
        
        .alert-success {
            background: #dcfce7;
            border-left-color: #10b981;
            color: #065f46;
        }
        
        .alert-warning {
            background: #fef3c7;
            border-left-color: #f59e0b;
            color: #92400e;
        }
        
        .alert-danger {
            background: #fecaca;
            border-left-color: #ef4444;
            color: #991b1b;
        }
        
        /* Mobile-optimized table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
            font-size: 0.9rem;
        }
        
        .data-table th {
            background: #3b82f6;
            color: white;
            padding: 12px 8px;
            text-align: left;
            font-weight: 600;
        }
        
        .data-table td {
            padding: 12px 8px;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .data-table tr:hover {
            background: #f8fafc;
        }
        
        .trend-up { background: #dcfce7; }
        .trend-down { background: #fecaca; }
        .trend-stable { background: #f0f9ff; }
        
        /* Hide debug on mobile for cleaner look */
        .debug-section {
            display: none;
        }
        
        /* Insights sections */
        .insights-section {
            margin-top: 20px;
            animation: slideIn 0.3s ease;
        }

        /* IPG-ADD: 2025-08-15 (TAKEN FROM DESKTOP VERSION) */
        
        /* Collapsible Sections */
        .collapsible {
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .collapsible-header {
            background: #f8fafc;
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }
        
        .collapsible-header:hover {
            background: #f1f5f9;
        }
        
        .collapsible-content {
            padding: 20px;
            display: none;
            animation: slideDown 0.3s ease;
        }
        
        .collapsible-content.active {
            display: block;
        }
        
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Enhanced alert boxes for mobile */
        .alert-box h3 {
            font-size: 1rem;
            margin-bottom: 10px;
        }
        
        .alert-box h4 {
            font-size: 0.9rem;
            margin-bottom: 8px;
        }
        
        .alert-box p {
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 8px;
        }
        
        .alert-box ul {
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        /* Status indicator */
        .status-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .status-loading {
            background: #fef3c7;
            color: #92400e;
        }
        
        .status-ready {
            background: #dcfce7;
            color: #065f46;
        }
        
        .status-error {
            background: #fecaca;
            color: #991b1b;
        }

        /* Summary Cards - taken from index */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .summary-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        /* IPG-Note: breakpoints for page width */
        $mobile-max: 767px;
        $tablet-min: 768px;
        $tablet-max: 1024px;
        $desktop-min: 1025px;
        
        /* Responsive adjustments */
        @media (max-width: 480px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .data-selector {
                grid-template-columns: 1fr;
            }
            
            .chart-container {
                height: 300px;
                padding: 10px;
            }
            
            .data-table {
                font-size: 0.8rem;
            }
            
            .data-table th,
            .data-table td {
                padding: 8px 6px;
            }
        }

        /* IPG-Note: additional setting for limiting widht on pc/laptop browser */
        /* Custom responsive layout - DESKTOP */
        @media screen and (min-width: 1025px) {
            /*  @media screen and (min-width: 768px) { */
            /*  Untuk PC/Laptop (screen lebih besar dari 768px)  */
            .container,  
            .main-content, 
            .page-content,
            .container-lg,
            .site-content {
                max-width: 1025px !important;
                margin: 0 auto !important;
                padding-left: 2rem !important;
                padding-right: 2rem !important;
          }
  
        
        /* Loading animation */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .loading {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <!-- Status Indicator -->
    <div id="statusIndicator" class="status-indicator status-loading">
        ğŸ“¶ Loading...
        <!-- Footer -->
        <div style="text-align: center; margin: 20px 0; padding: 25px; background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%); border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <p style="color: #6b7280; font-size: 0.9rem; line-height: 1.6;">
                <strong>ğŸ“Š Data Story ini disusun berdasarkan:</strong><br>
                198 suara mahasiswa | 5 semester evaluasi | 2022/2023 - 2024/2025<br>
                <em>Dipersembahkan dengan â¤ï¸ data storytelling spirit dan secangkir kopi â˜•</em>
            </p>
            <div style="margin-top: 15px; padding: 15px; background: rgba(59, 130, 246, 0.1); border-radius: 8px;">
                <p style="color: #1e40af; font-size: 0.8rem; margin: 0;">
                    <strong>ğŸ’¡ Share This Vision:</strong> Jika Anda percaya pendidikan Indonesia bisa lebih data-driven 
                    dan human-centered, bagikan dashboard ini dengan colleagues yang peduli education innovation!
                </p>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <img src="img/UBCrest.png" alt="UBCrest" width="75">
            <h1>ğŸš€ EDOM Interaktif</h1>
            <div>Mendengar Suara Mahasiswa Melalui Data yang Bercerita</div>
        </div>

        <!-- Key Statistics -->
        <div class="content-section">
            <h2 class="section-title">ğŸ“Š Dashboard Utama</h2>
            
            <div class="stats-grid">
                <div class="stat-card" style="background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);">
                    <span class="stat-number" style="color: #10b981;">65%</span>
                    <div class="stat-label">Mahasiswa Puas</div>
                </div>
                
                <div class="stat-card" style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);">
                    <span class="stat-number" style="color: #3b82f6;">198</span>
                    <div class="stat-label">Total Suara</div>
                </div>
                
                <div class="stat-card" style="background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);">
                    <span class="stat-number" style="color: #8b5cf6;">5</span>
                    <div class="stat-label">Semester</div>
                </div>
                
                <div class="stat-card" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);">
                    <span class="stat-number" style="color: #f59e0b;">3.39</span>
                    <div class="stat-label">Rating Avg</div>
                </div>
            </div>

            <div class="alert-box alert-info">
                <p><strong>ğŸ’¡ Insight Utama:</strong><br>
                Dari 198 total suara yang memberikan evaluasi, 65% merasa puas dengan pembelajaran kalkulus. 
                Namun, ada penurunan dramatis di periode 2024/2025 yang perlu diinvestigasi lebih lanjut.
                <p><strong>ğŸ“± Analisis:</strong> <br>Dashboard digunakan untuk menganalisis apakah masalah bersifat <em>isolated</em> atau <em>sistemik</em>. 
                Scroll ke bawah untuk melihat <em>interactive charts</em> dan analisis mendalam.
            </div>
        </div>

        <!-- Interactive Charts -->
        <div class="content-section">
            <h2 class="section-title">ğŸ“ˆ Charts Interaktif</h2>
            
            <div class="data-selector">
                <button class="selector-btn active" onclick="showChart('satisfaction')">ğŸ“Š Kepuasan</button>
                <button class="selector-btn" onclick="showChart('feedback')">ğŸ—£ï¸ Feedback</button>
                <button class="selector-btn" onclick="showChart('issues')">ğŸš¨ Masalah</button>
                <button class="selector-btn" onclick="showChart('diagnosis')">ğŸ” Diagnosis</button>
            </div>

            <div class="chart-container">
                <div id="chartStatus" class="chart-status loading">
                    ğŸ“Š Memuat chart...
                </div>
                <canvas id="myChart" style="display: none;"></canvas>
            </div>

            <div id="chartContent">
                <!-- Dynamic content -->
            </div>

            <!-- Detailed Insights Sections -->
            <div id="satisfactionInsights" class="insights-section" style="display: none;">
                <div class="alert-box alert-success">
                    <h3>ğŸ” Analisis Perbandingan Mendalam</h3>
                    <div style="background: white; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <h4 style="color: #1e40af; margin-bottom: 10px;">ğŸ“ˆ Periode 2023/2024: Kalkulus II Unggul</h4>
                        <p style="color: #3b82f6; font-size: 0.9em; margin: 0;">
                            <strong>Kalkulus II: 76%</strong> vs <strong>Kalkulus I: 72%</strong><br>
                            Gap +4% menunjukkan Kalkulus II lebih <em>mature</em> dalam pembelajaran
                        </p>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <h4 style="color: #92400e; margin-bottom: 10px;">ğŸ“‰ Periode 2024/2025: Dramatic Drop</h4>
                        <p style="color: #d97706; font-size: 0.9em; margin: 0;">
                            <strong>Kalkulus I: 56%</strong> vs <strong>Kalkulus II: 55%</strong><br>
                            <em>Both courses</em> turun drastis! Gap hampir hilang - masalah sistemik
                        </p>
                    </div>
                </div>
                
                <div class="alert-box alert-info">
                    <h3>ğŸ’¡ Key Insights dari Comparison</h3>
                    <ul style="margin: 10px 0; padding-left: 20px; line-height: 1.6;">
                        <li><strong>Kalkulus II <em>historically better</em> </strong> - ukuran kelas kecil, mahasiswa tersaring</li>
                        <li><strong>2024/2025 = game changer</strong> - <em>even Kalkulus II drop significantly</em></li>
                        <li><strong><em>Convergence effect</em></strong> - gap Kalkulus I & II hampir hilang</li>
                        <li><strong><em>Systemic issue</em></strong> - bukan masalah satu mata kuliah saja</li>
                    </ul>
                </div>
            </div>

            <div id="feedbackInsights" class="insights-section" style="display: none;">
                <div class="alert-box alert-success">
                    <h3>ğŸ—£ï¸ Breakdown Feedback Mahasiswa</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 15px 0;">
                        <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #10b981;">
                            <h4 style="color: #065f46; font-size: 0.9rem; margin-bottom: 5px;">ğŸŒŸ Super Positif (7.6%)</h4>
                            <p style="color: #064e3b; font-size: 0.8rem; margin: 0;">"Overall sudah sangat baik!", "Mengajar dengan fun, seru tidak tegang"</p>
                        </div>
                        <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                            <h4 style="color: #1e40af; font-size: 0.9rem; margin-bottom: 5px;">ğŸ˜Š Puas Diam-diam (37.9%)</h4>
                            <p style="color: #1e3a8a; font-size: 0.8rem; margin: 0;">Silent majority: "Tidak ada masalah", "Sudah baik" - grup terbesar</p>
                        </div>
                        <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                            <h4 style="color: #92400e; font-size: 0.9rem; margin-bottom: 5px;">ğŸ’­ Pemberi Saran (19.7%)</h4>
                            <p style="color: #78350f; font-size: 0.8rem; margin: 0;">"Mungkin bisa ditambah lebih banyak contoh soal" - konstruktif</p>
                        </div>
                        <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #ef4444;">
                            <h4 style="color: #991b1b; font-size: 0.9rem; margin-bottom: 5px;">ğŸ˜¤ Komplen (34.9%)</h4>
                            <p style="color: #7f1d1d; font-size: 0.8rem; margin: 0;">"Tempo terlalu cepat", "Kurang interaksi" - perlu action</p>
                        </div>
                    </div>
                </div>
                
                <div class="alert-box alert-info">
                    <h3>ğŸ“Š Insight Penting</h3>
                    <p><strong>Silent Majority Effect:</strong> 37.9% mahasiswa puas tapi tidak ekspresif. Dalam analisis tradisional, grup ini sering terlupakan karena tidak memberikan feedback dramatis.</p>
                    <p><strong>Action Required:</strong> Focus pada 34.9% yang komplen untuk <em>improvement</em>, sambil mempertahankan kepuasan <em>silent majority</em>.</p>
                </div>
            </div>

            <div id="issuesInsights" class="insights-section" style="display: none;">
                <div class="alert-box alert-danger">
                    <h3>ğŸš¨ Detail Keluhan per Semester</h3>
                    <div style="overflow-x: auto; margin: 15px 0;">
                        <table class="data-table" style="font-size: 0.8rem;">
                            <thead style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);">
                                <tr>
                                    <th style="padding: 8px;">Mata Kuliah</th>
                                    <th style="padding: 8px;">Periode</th>
                                    <th style="padding: 8px; text-align: center;"><em>"Pace Cepat"</em></th>
                                    <th style="padding: 8px; text-align: center;"><em>"Kurang Interaksi"</em></th>                                                                      
                                    <th style="padding: 8px; text-align: center;"><em>"Suara Kurang Keras"</em></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 8px;"><strong>Kalkulus I</strong></td>
                                    <td style="padding: 8px;">2022/2023</td>
                                    <td style="padding: 8px; text-align: center;">2 (4.08%)</td>
                                    <td style="padding: 8px; text-align: center;">1 (2.04%)</td>
                                    <td style="padding: 8px; text-align: center;">1 (2.04%)</td>
                                </tr>
                                <tr class="trend-up">
                                    <td style="padding: 8px;"><strong>Kalkulus I</strong></td>
                                    <td style="padding: 8px;">2023/2024</td>
                                    <td style="padding: 8px; text-align: center; color: #10b981;">1 (2.00%)</td>
                                    <td style="padding: 8px; text-align: center; color: #10b981;">1 (2.00%)</td>
                                    <td style="padding: 8px; text-align: center; color: #10b981;">0 (0.00%)</td>
                                </tr>
                                <tr class="trend-down">
                                    <td style="padding: 8px;"><strong>Kalkulus I</strong></td>
                                    <td style="padding: 8px;">2024/2025</td>
                                    <td style="padding: 8px; text-align: center; color: #ef4444;"><strong>5 (11.63%)</strong></td>
                                    <td style="padding: 8px; text-align: center; color: #ef4444;"><strong>4 (9.30%)</strong></td>
                                    <td style="padding: 8px; text-align: center; color: #ef4444;"><strong>0 (0.00%)</strong></td>
                                </tr>
                                <tr class="trend-stable">
                                    <td style="padding: 8px;"><strong>Kalkulus II</strong></td>
                                    <td style="padding: 8px;">2023/2024</td>
                                    <td style="padding: 8px; text-align: center; color: #10b981;">0 (0.00%)</td>
                                    <td style="padding: 8px; text-align: center; color: #10b981;">0 (0.00%)</td>
                                    <td style="padding: 8px; text-align: center; color: #10b981;">0 (0.00%)</td>                                </tr>
                                <tr>
                                    <td style="padding: 8px;"><strong>Kalkulus II</strong></td>
                                    <td style="padding: 8px;">2024/2025</td>
                                    <td style="padding: 8px; text-align: center; color: #10b981;">0 (0.00%)</td>
                                    <td style="padding: 8px; text-align: center;">1 (3.23%)</td>
                                    <td style="padding: 8px; text-align: center; color: #10b981;">0 (0.00%)</td>                                </tr>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="alert-box alert-warning">
                    <h3>ğŸ“Š Pattern Analysis</h3>
                    <p><strong>ğŸš¨ Alert:</strong> Kalkulus I 2024/2025 mengalami lonjakan keluhan "terlalu cepat" dari 2% menjadi 11.6% - peningkatan hampir 6x lipat!</p>
                    <p><strong>ğŸ“Š Interesting:</strong> Kalkulus II relatif bebas masalah pace, tapi mulai muncul keluhan interaksi. <em>Early warning?</em></p>
                </div>
            </div>

            <div id="diagnosisInsights" class="insights-section" style="display: none;">
                <div class="alert-box alert-danger">
                    <h3>ğŸ¦  COVID-19 Educational Debt Analysis</h3>
                    <div style="display: grid; grid-template-columns: 1fr; gap: 10px; margin: 15px 0;">
                        <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #ef4444;">
                            <h4 style="color: #ef4444; font-size: 0.9rem; margin-bottom: 5px;">ğŸ“š Foundation Gap</h4>
                            <p style="color: #7f1d1d; font-size: 0.8rem; margin: 0;">2+ years pembelajaran online selama SMA = <em>weak mathematical problem-solving skills</em></p>
                        </div>
                        <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #ef4444;">
                            <h4 style="color: #ef4444; font-size: 0.9rem; margin-bottom: 5px;">ğŸ¤ Social Learning Deficit</h4>
                            <p style="color: #7f1d1d; font-size: 0.8rem; margin: 0;">Kurang <em>peer interaction</em> & <em>collaborative learning experience</em></p>
                        </div>
                        <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #ef4444;">
                            <h4 style="color: #ef4444; font-size: 0.9rem; margin-bottom: 5px;">âš¡ Expectation Mismatch</h4>
                            <p style="color: #7f1d1d; font-size: 0.8rem; margin: 0;"><em>Digital native expectations</em> vs <em>traditional teaching methods</em></p>
                        </div>
                        <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #ef4444;">
                            <h4 style="color: #ef4444; font-size: 0.9rem; margin-bottom: 5px;">ğŸ¯ Attention Changes</h4>
                            <p style="color: #7f1d1d; font-size: 0.8rem; margin: 0;"><em>Shortened attention spans, need for immediate feedback loops</em></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Data Table -->
        <div class="content-section">
            <h2 class="section-title">ğŸ“‹ Data Comprehensive</h2>
            
            <div style="overflow-x: auto;">
                <h3 style="color: #1e40af; margin-bottom: 20px;">ğŸ“Š Feedback Positif Per Periode Per Mata Kuliah</h3>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Periode</th>
                            <th>Kalkulus I</th>
                            <th>Rating</th>
                            <th>Kalkulus II</th>
                            <th>Rating</th>
                            <th>Gap</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="trend-stable">
                            <td><strong>2022/23</strong></td>
                            <td>67.35% (33/49)</td>
                            <td style="text-align: left;">3.22</td>
                            <td style="color: #9ca3af;"><em>No data</em></td>
                            <td style="color: #9ca3af;"><em>No data</em></td>
                            <td>-</td>
                            <td>ğŸ“Š Baseline</td>
                        </tr>
                        <tr class="trend-up">
                            <td><strong>2023/24</strong></td>
                            <td style="color: #3b82f6;"><strong>72.00%</strong> (36/50)</td>
                            <td style="text-align: left;">3.39</td>
                            <td style="color: #10b981;"><strong>76.00%</strong> (19/25)</td>
                            <td style="text-align: left;">3.50</td>
                            <td style="color: #10b981;"><strong>+4%</strong></td>
                            <td>ğŸŒŸ Peak Performance!</td>
                        </tr>
                        <tr class="trend-down">
                            <td><strong>2024/25</strong></td>
                            <td style="color: #ef4444;"><strong>55.81%</strong> (24/43)<br><small>ğŸ“‰ -16.19%</small></td>
                            <td style="text-align: left;">3.38</td>
                            <td style="color: #ef4444;"><strong>54.84%</strong> (17/31)<br><small>ğŸ“‰ -21.16%</small></td>
                            <td style="text-align: left;">3.47</td>
                            <td style="color: #6b7280;"><strong>~0%</strong></td>
                            <td>ğŸš¨ Crisis! Convergence effect</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="alert-box alert-warning">
                <strong>ğŸ” Critical Observation:</strong> 2024/25 <em>convergence effect</em> ketika Kalkulus II yang biasanya unggul, 
                sekarang perform hampir sama dengan Kalkulus I. Ini mengindikasikan masalah sistemik yang mempengaruhi 
                keseluruhan pembelajaran kalkulus, bukan hanya issue spesifik di satu mata kuliah.
            </div>

            <div class="alert-box alert-info">
                <strong>ğŸ’¡ Deep Analysis Available:</strong> Scroll ke atas untuk eksplorasi interactive charts yang memberikan 
                insight mendalam tentang root cause analysis dan strategic solutions framework. Klik tab "ğŸ” Diagnosis" 
                untuk memahami COVID-19 <em>educational debt</em> dan solusi transformatif.
            </div>
        </div>

        <!-- Collapsible Analysis Sections -->
        <div class="content-section">
            <h2 class="section-title">ğŸ” Deep Analysis</h2>

            <!-- Static Summary Section -->
            <div style="margin-bottom: 30px; padding: 25px; background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); border-radius: 10px; border-left: 6px solid #3b82f6;">
                <h3 style="color: #1e40af; margin-bottom: 20px;">ğŸ“Š Ringkasan Temuan Utama</h3>
                <div class="summary-grid">
                    <div class="summary-card">
                        <h4 style="color: #374151; margin-bottom: 10px; font-size: 0.9rem;">ğŸ•µï¸ Diagnosis Utama</h4>
                        <p style="color: #6b7280; font-size: 0.85rem;">
                            <strong>Generation Gap:</strong> Mahasiswa 2024/2025 yang mengalami pembelajaran online ekstensif selama SMA 
                            membutuhkan pendekatan berbeda.
                        </p>
                    </div>
                    <div class="summary-card">
                        <h4 style="color: #374151; margin-bottom: 10px; font-size: 0.9rem;">âœ¨ Kekuatan Tersembunyi</h4>
                        <p style="color: #6b7280; font-size: 0.85rem;">
                            <strong>Fondasi Solid:</strong> 65% mahasiswa masih puas, Kalkulus II konsisten perform baik, 
                            materi favorit tetap stabil.
                        </p>
                    </div>
                    <div class="summary-card">
                        <h4 style="color: #374151; margin-bottom: 10px; font-size: 0.9rem;">ğŸ¯ Solusi Terfokus</h4>
                        <p style="color: #6b7280; font-size: 0.85rem;">
                            <strong>Target Jelas:</strong> Perlambat pace (11.6% â†’ &lt;5%), tingkatkan interaksi (9.3% â†’ &lt;3%), 
                            capai 75% kepuasan dalam 1 tahun.
                        </p>
                    </div>
                </div>
                <p style="color: #1e40af; font-size: 0.9em; margin-top: 15px; font-style: italic;">
                    ğŸ’¡ Klik pada setiap bagian di bawah untuk eksplorasi mendalam dan strategi detail...
                </p>
            </div>            

            <!-- Detective Work Section -->
            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleSection('detective')">
                    <h3 style="color: #273131;">ğŸ•µï¸ Detective Work: Mencari Pelaku di Balik Layar</h3>
                    <span class="toggle-icon">â–¼</span>
                </div>
                <div class="collapsible-content" id="detective">
                    <p style="margin-bottom: 20px; color: #4b5563;">
                        Seperti detektif yang mencari petunjuk, kita perlu bertanya: mengapa ada masalah yang seakan-akan tiba-tiba muncul
                        di periode 2024/2025? Ada beberapa tersangka yang patut diselidiki:
                    </p>
                    <div class="alert-box" style="background: #fef3c7; border-left-color: #f59e0b; color: #92400e; margin-bottom: 20px;">
                        <h4 style="font-weight: bold; margin-bottom: 10px;">ğŸ“ Tersangka Utama: "The Generation Gap"</h4>
                        <p>
                            <strong>Kemungkinan terbesar:</strong> Mahasiswa angkatan 2024/2025 memiliki karakteristik yang berbeda dari angkatan sebelumnya. 
                            Mereka adalah generasi yang mengalami pembelajaran online ekstensif selama SMA akibat pandemi COVID-19.
                        </p>
                    </div>
                    
                    <p style="margin-bottom: 20px; color: #4b5563;">
                        Generasi ini mungkin membutuhkan pendekatan yang berbeda. Pembelajaran matematika secara virtual selama bertahun-tahun 
                        dapat menciptakan gap dalam keterampilan fundamental yang tidak mudah terdeteksi dalam tes standar.
                    </p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div style="background: #dbeafe; padding: 15px; border-radius: 8px;">
                            <h5 style="color: #1e40af; font-weight: bold;">ğŸ“š Perubahan Kurikulum</h5>
                            <p style="color: #3b82f6; font-size: 0.9em;"><em>Pressure</em> untuk cover lebih banyak materi</p>
                        </div>
                        <div style="background: #f3e8ff; padding: 15px; border-radius: 8px;">
                            <h5 style="color: #7c3aed; font-weight: bold;">ğŸ¢ Faktor Eksternal</h5>
                            <p style="color: #8b5cf6; font-size: 0.9em;">Tekanan institusional atau regulasi</p>
                        </div>
                        <div style="background: #dcfce7; padding: 15px; border-radius: 8px;">
                            <h5 style="color: #059669; font-weight: bold;">ğŸ’¡ Ekspektasi Berubah</h5>
                            <p style="color: #10b981; font-size: 0.9em;">Generasi digital dengan ekspektasi berbeda</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Silver Lining Section -->
            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleSection('silver')">
                    <h3 style="color: #374151;">âœ¨ Silver Lining: Kekuatan yang Masih Bertahan</h3>
                    <span class="toggle-icon">â–¼</span>
                </div>
                <div class="collapsible-content" id="silver">
                    <p style="margin-bottom: 20px; color: #4b5563;">
                        Meski ada masalah, penting untuk diingat bahwa 65% mahasiswa masih merasa puas. Ini menunjukkan bahwa
                        fondasi pengajaran masih solid. 
                    </p>                    
                    <div class="alert-box alert-success" style="margin-bottom: 20px;">
                        <h4 style="font-weight: bold; margin-bottom: 15px;">ğŸ¯ Materi Favorit yang Konsisten:</h4>
                        <ol style="color: #065f46; line-height: 1.8; padding-left: 20px;">
                            <li><strong>Limit dan Fungsi</strong> - Selalu menjadi favorit mahasiswa</li>
                            <li><strong>Turunan</strong> - Banyak yang terkesan dengan penjelasannya</li>
                            <li><strong>Integral</strong> - Teknik-teknik yang diajarkan diminati</li>
                            <li><strong>Barisan dan Deret</strong> - Populer di Kalkulus II</li>
                        </ol>
                    </div>
                    
                    <p style="color: #4b5563;">
                        Yang menarik, Kalkulus II secara konsisten menunjukkan performa yang lebih baik. 
                        Hal ini mungkin karena ukuran kelas yang lebih kecil, mahasiswa yang sudah ter-filter, 
                        atau materi yang lebih cocok dengan gaya pengajaran dosen.
                    </p>
                </div>
            </div>

            <!-- Action Plan Section -->
            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleSection('action')">
                    <h3 style="color: #374151;">ğŸ¯ Action Plan: Dari Insight ke Implementasi</h3>
                    <span class="toggle-icon">â–¼</span>
                </div>
                <div class="collapsible-content" id="action">
                    <h4 style="color: #dc2626; margin-bottom: 20px;">ğŸš¨ Immediate Actions (6 Bulan Pertama):</h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div class="summary-card" style="background: #fecaca; border-left: 4px solid #ef4444; padding: 20px; border-radius: 8px;"> 
                            <h5 style="color: #991b1b; font-weight: bold;">1. Recalibrate the Pace</h5>
                            <ul style="color: #dc2626; font-size: 0.9em; margin-top: 10px; line-height: 1.6; padding-left: 20px;">
                                <li><em>Learning checkpoints</em> setiap 20-30 menit</li>
                                <li><em>Dedicated time</em> untuk Q&A</li>
                                <li>Target: turunkan keluhan dari 11.6% ke &lt;5%</li>
                            </ul>
                        </div>
                        
                        <div class="summary-card" style="background: #fecaca; border-left: 4px solid #ef4444; padding: 20px; border-radius: 8px;">
                            <h5 style="color: #991b1b; font-weight: bold;">2. Boost Interaction</h5>
                            <ul style="color: #dc2626; font-size: 0.9em; margin-top: 10px; line-height: 1.6; padding-left: 20px;">
                                <li>Teknik "<em>think-pair-share</em>" untuk <em>engagement</em></li>
                                <li><em>Small group discussions</em></li>
                                <li>Target: turunkan keluhan dari 9.3% ke &lt;3%</li>
                            </ul>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-top: 25px;">
                        <div style="background: #bfdbfe; padding: 20px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold; color: #1e40af;">70%</div>
                            <div style="color: #3b82f6; font-size: 0.9em;">Target 6 Bulan</div>
                        </div>
                        <div style="background: #bbf7d0; padding: 20px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold; color: #059669;">75%</div>
                            <div style="color: #10b981; font-size: 0.9em;">Target 1 Tahun</div>
                        </div>
                        <div style="background: #fde68a; padding: 20px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold; color: #d97706;">15%</div>
                            <div style="color: #f59e0b; font-size: 0.9em;">Feedback Super Positif</div>
                        </div>
                        <div style="background: #fecaca; padding: 20px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold; color: #dc2626;">&lt;3%</div>
                            <div style="color: #ef4444; font-size: 0.9em;">Keluhan Maksimal</div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
            
        <!-- Strategic Solutions Framework -->
        <div class="content-section">
            <h2 class="section-title">ğŸ› ï¸ Strategic Solutions Framework</h2>
            
            <div class="alert-box alert-danger">
                <h3>ğŸš¨ Phase 1: Crisis Response (0-6 Months)</h3>
                <div class="summary-grid">
                <!-- <div style="display: grid; grid-template-columns: 1fr; gap: 10px; margin: 15px 0;"> -->

                    <div class="summary-card">
                    <!-- <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #dc2626;"> -->
                        <h4 style="color: #991b1b; margin-bottom: 8px;">ğŸ“š Emergency Support</h4>
                        <ul style="color: #7f1d1d; font-size: 0.9em; margin: 0; padding-left: 15px; line-height: 1.5;">
                            <li>Math remediation program</li>
                            <li>Diagnostic assessments</li>
                            <li>Peer tutoring networks</li>
                            <li>Intensive workshops</li>
                        </ul>
                    </div>

                    <div class="summary-card">
                    <!-- <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #dc2626;"> -->
                        <h4 style="color: #991b1b; margin-bottom: 8px;">ğŸ¯ Teaching Revolution</h4>
                        <ul style="color: #7f1d1d; font-size: 0.9em; margin: 0; padding-left: 15px; line-height: 1.5;">
                            <li>Microlearning (15-20 min chunks)</li>
                            <li>Interactive polling</li>
                            <li>Small group problem solving</li>
                            <li>Real-time feedback systems</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="alert-box alert-success">
                <h3>ğŸ“ˆ Phase 2: Transformation (6-24 Months)</h3>
                <div class="summary-grid">
                <!-- <div style="display: grid; grid-template-columns: 1fr; gap: 10px; margin: 15px 0;"> -->
                    <div class="summary-card">
                    <!-- <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #059669;"> -->
                        <h4 style="color: #065f46; margin-bottom: 8px;">ğŸ”„ Generational Adaptation</h4>
                        <ul style="color: #064e3b; font-size: 0.9em; margin: 0; padding-left: 15px; line-height: 1.5;">
                            <li>Blended learning model</li>
                            <li>Flipped classroom approach</li>
                            <li>Multiple learning modalities</li>
                            <li>Gamification elements</li>
                        </ul>
                    </div>
                    <div class="summary-card">
                    <!-- <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #059669;"> -->
                        <h4 style="color: #065f46; margin-bottom: 8px;">ğŸ‘¥ Faculty Development</h4>
                        <ul style="color: #064e3b; font-size: 0.9em; margin: 0; padding-left: 15px; line-height: 1.5;">
                            <li>Generation gap training</li>
                            <li>Modern pedagogy workshops</li>
                            <li>Technology skills upgrade</li>
                            <li>Continuous improvement cycles</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="alert-box alert-info">
                <h3>ğŸ¯ Success Roadmap & Metrics</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 15px 0;">
                    <div style="background: white; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #dc2626;">
                        <div style="font-size: 1.8rem; font-weight: bold; color: #dc2626; margin-bottom: 5px;">6 Bulan</div>
                        <div style="color: #7f1d1d; font-size: 0.8em; margin-bottom: 8px;">Crisis Response</div>
                        <div style="color: #dc2626; font-size: 0.8em; line-height: 1.4;">
                            <strong>56% â†’ 70%</strong> satisfaction<br>
                            <strong>&lt;5%</strong> pace complaints<br>
                            <strong>&lt;3%</strong> interaction complaints
                        </div>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #059669;">
                        <div style="font-size: 1.8rem; font-weight: bold; color: #059669; margin-bottom: 5px;">1-2 Tahun</div>
                        <div style="color: #065f46; font-size: 0.8em; margin-bottom: 8px;">Excellence</div>
                        <div style="color: #047857; font-size: 0.8em; line-height: 1.4;">
                            <strong>75%+</strong> satisfaction<br>
                            <strong>New standards</strong><br>
                            <strong>Future-ready</strong> education
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Epilog: EDOM Masa Depan -->
        <div class="content-section">
            <h2 class="section-title">ğŸš€ Epilog: Menuju EDOM Interaktif</h2>
            
            <div class="alert-box alert-info">
                <h3>ğŸ’« Visi EDOM Interaktif Masa Depan</h3>
                <p>Cerita data mata kuliah Kalkulus I dan II ini hanyalah contoh kecil dari hal-hal yang bisa terjadi ketika kita memperlakukan EDOM 
                bukan sekadar kewajiban administratif, tapi sebagai sumber <em>insight</em> yang berharga.</p>
                <!-- <ul style="margin: 10px 0; padding-left: 20px; line-height: 1.6;">
                    <li><strong>Real-time feedback dashboard</strong> yang responsive</li>
                    <li><strong>Drill-down capabilities</strong> per topik bahasan</li>
                    <li><strong>Automated alert system</strong> untuk masalah emerging</li>
                    <li><strong>Continuous feedback loop</strong> dosen-mahasiswa</li>
                </ul> -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div class="stat-card" style="background: white; padding: 20px; border-radius: 10px; text-align: center;"> 
                    <!-- <div style="background: white; padding: 20px; border-radius: 10px; text-align: center;"> -->
                        <div style="font-size: 3em; margin-bottom: 10px;">ğŸ“Š</div>
                        <h4>Real-time Interactive Dashboard</h4>
                        <p>Feedback langsung yang responsive, tidak perlu tunggu akhir semester</p>
                    </div>
                    <div class="stat-card" style="background: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 3em; margin-bottom: 10px;">ğŸ”</div>
                        <h4>Drill-down Analytics</h4>
                        <p>Dari overview ke detail per topik bahasan</p>
                    </div>
                    <div class="stat-card" style="background: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 3em; margin-bottom: 10px;">ğŸ””</div>
                        <h4>Automatic Smart Alerts</h4>
                        <p>Sistem peringatan otomatis untuk masalah penting yang timbul</p>
                    </div>
                    <div class="stat-card" style="background: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 3em; margin-bottom: 10px;">ğŸ”„</div>
                        <h4>Continuous Loop</h4>
                        <p>Dialog berkelanjutan antara dosen dan mahasiswa</p>
                    </div>
                </div>
                
            </div>
            <div class="alert-box alert-danger">
                <h3>ğŸŒŸ The Magic Formula</h3>
                <div class="stat-card">
                <p style="font-size: 1.2em; line-height: 1.8; text-align:center;">
                    <strong>Data Storytelling + Interactive Feedback + Real-time Insights = <br> <em>Transformative Learning Experience</em></strong>
                </p>
                </div>
                <p style="margin-top: 20px;">
                    Ketika EDOM menjadi interaktif, data bisa bercerita, dan <em>insight</em> langsung diterjemahkan menjadi <em>action - that's when the magic happens!</em> 
                    Bukan hanya angka rating yang meningkat, tapi pengalaman belajar yang benar-benar <em>transformative</em> untuk semua.
                </p>
            </div>
            <div class="alert-box alert-success">
                <h3>ğŸŒŸ The Bottom Line</h3>
                <p style="font-size: 1rem; font-weight: 500; line-height: 1.6;">
                    Di balik setiap angka EDOM, ada cerita tentang mahasiswa yang berjuang memahami konsep, 
                    dosen yang berusaha memberikan yang terbaik, dan dinamika pembelajaran yang unik. 
                    Ketika kita mendengarkan cerita-cerita ini dengan seksama, kita tidak hanya mendapatkan data - 
                    <strong>kita mendapatkan <em>wisdom</em> untuk menciptakan pendidikan yang lebih baik.</strong>
                </p>
            </div>

            <div class="alert-box alert-warning">
                <h3>ğŸ’¡ Key Takeaways</h3>
                <!-- h3>ğŸ’¡ Key Takeaways dari Dashboard Ini</h3 -->
                <!--
                <ol style="margin: 10px 0; padding-left: 20px; line-height: 1.6;">
                    <li><strong>Data storytelling</strong> > raw numbers</li>
                    <li><strong>Systemic thinking</strong> > isolated fixes</li>
                    <li><strong>Generational awareness</strong> > one-size-fits-all</li>
                    <li><strong>Proactive adaptation</strong> > reactive responses</li>
                    <li><strong>Student voice</strong> > administrative assumptions</li>
                </ol>
                -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div class="stat-card" style="background: white; padding: 20px; border-radius: 10px; text-align: center;"> 
                    <!-- <div style="background: white; padding: 20px; border-radius: 10px; text-align: center;"> -->
                        <div style="font-size: 3em; margin-bottom: 10px;">ğŸ“Š</div>
                        <h4>Data Storytelling</h4>
                        <p>Not just raw numbers</p>
                    </div>
                    <div class="stat-card" style="background: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 3em; margin-bottom: 10px;">ğŸ”</div>
                        <h4>Systemic Thinking</h4>
                        <p>Not just isolated fixes</p>
                    </div>
                    <div class="stat-card" style="background: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 3em; margin-bottom: 10px;">ğŸ””</div>
                        <h4>Proactive Adaptation</h4>
                        <p>Not just reactive responses</p>
                    </div>
                    <div class="stat-card" style="background: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 3em; margin-bottom: 10px;">ğŸ‘¥</div>
                        <h4>Student Voices</h4>
                        <p>Not just administrative assumptions</p>
                    </div>
                </div>  <!-- grid -->             
            </div>  <!-- alert-box: key takeaways --> 

            <div style="text-align: center; margin: 20px 0; padding: 25px; background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%); border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <p style="color: #6b7280; font-size: 0.9rem; line-height: 1.6;">
                    <strong>ğŸ“Š Data Story ini disusun berdasarkan:</strong><br>
                    198 suara mahasiswa | 5 semester evaluasi | 2022/2023 - 2024/2025<br>
                    <em>Dipersembahkan dengan â¤ï¸ data storytelling spirit dan secangkir kopi â˜•</em>
                </p>
            </div>
            
        </div> <!-- Epilog Section -->
    </div>

    <script>
        // Global variables
        let currentChart = null;
        let chartReady = false;
        
        // Update status indicator
        function updateStatus(status, message) {
            const indicator = document.getElementById('statusIndicator');
            indicator.className = `status-indicator status-${status}`;
            indicator.textContent = message;
            
            if (status === 'ready') {
                setTimeout(() => {
                    indicator.style.display = 'none';
                }, 3000);
            }
        }
        
        // Chart data
        const chartData = {
            satisfaction: {
                labels: ['2022/2023', '2023/2024', '2024/2025'],
                datasets: [
                    {
                        label: 'Kalkulus I',
                        data: [67.35, 72.00, 55.81],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4,
                        pointRadius: 6,
                        pointHoverRadius: 8
                    },
                    {
                        label: 'Kalkulus II',
                        data: [null, 76.00, 54.84],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        tension: 0.4,
                        pointRadius: 6,
                        pointHoverRadius: 8,
                        spanGaps: true
                    }
                ]
            },
            feedback: {
                labels: ['Super Positif', 'Puas Diam-diam', 'Pemberi Saran', 'Komplen'],
                datasets: [{
                    data: [7.6, 37.9, 19.7, 34.9],
                    backgroundColor: ['#10b981', '#3b82f6', '#f59e0b', '#ef4444'],
                    borderWidth: 2,
                    borderColor: '#ffffff'
                }]
            },
            issues: {
                labels: ['Pace Cepat', 'Kurang Interaksi', 'Suara Kurang Keras'], // IPG-Note: adding komplain 'Suara Kurang Keras'
                datasets: [
                    { label: '2022/23', data: [4.08, 2.04, 2.04], backgroundColor: '#10b981' },
                    { label: '2023/24', data: [2.00, 2.00, 0.00], backgroundColor: '#3b82f6' },
                    { label: '2024/25', data: [11.63, 9.30, 0.00], backgroundColor: '#ef4444' }
                ]
            },
            diagnosis: {
                labels: ['Isolated', 'Systemic'],
                datasets: [{
                    data: [25, 95],
                    backgroundColor: ['#f59e0b', '#ef4444'],
                    borderWidth: 2,
                    borderColor: '#ffffff'
                }]
            }
        };

        // Chart content
        const chartContent = {
            satisfaction: '<div class="alert-box alert-info"><h3>ğŸ” Comparison Analysis</h3><p>2024/25 <em>shows convergence effect</em> - gap antara Kalkulus I & II hampir hilang, indikasi masalah sistemik yang mempengaruhi kedua mata kuliah secara bersamaan.</p></div>',
            feedback: '<div class="alert-box alert-success"><h3>ğŸ—£ï¸ Komposisi Suara Mahasiswa</h3><p><strong>Silent Majority (37.9%):</strong> Puas tapi tidak ekspresif - grup terbesar yang sering terlupakan dalam analisis tradisional. <strong>Komplen (34.9%):</strong> Perlu perhatian serius untuk improvement berkelanjutan.</p></div>',
            issues: '<div class="alert-box alert-warning"><h3>ğŸš¨ Lonjakan Dramatis 2024/2025</h3><p><strong>Pace Complaints:</strong> 2% â†’ 11.6% (naik 6x lipat!)<br><strong>Interaction Complaints:</strong> 2% â†’ 9.3% (naik 4x lipat!)<br>Kedua masalah ini muncul simultan, mengkonfirmasi <em>nature</em> sistemik dari tantangan yang dihadapi.</p></div>',
            diagnosis: '<div class="alert-box alert-danger"><h3>ğŸ¦  95% Evidence: Systemic Issue</h3><p><em>COVID-19 educational debt</em> membutuhkan pendekatan pembelajaran yang fundamental berbeda. Mahasiswa 2024/25 adalah generasi yang mengalami <em>disrupted learning</em> selama masa formatif mereka.</p></div>'
        };

        // Function to show/hide insights sections
        function toggleInsights(type) {
            // Hide all insights sections
            document.querySelectorAll('.insights-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show specific insights section
            const insightsId = type + 'Insights';
            const insightsSection = document.getElementById(insightsId);
            if (insightsSection) {
                insightsSection.style.display = 'block';
            }
        }

        // Show chart function
        function showChart(type) {
            console.log('Showing chart:', type);
            
            // Update buttons
            document.querySelectorAll('.selector-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (!chartReady) {
                updateStatus('error', 'âŒ Chart not ready');
                return;
            }
            
            const canvas = document.getElementById('myChart');
            const statusDiv = document.getElementById('chartStatus');
            
            // Show loading
            statusDiv.style.display = 'flex';
            statusDiv.textContent = 'ğŸ“Š Switching chart...';
            canvas.style.display = 'none';
            
            setTimeout(() => {
                try {
                    // Destroy existing chart
                    if (currentChart) {
                        currentChart.destroy();
                        currentChart = null;
                    }
                    
                    const ctx = canvas.getContext('2d');
                    let config;
                    
                    switch(type) {
                        case 'satisfaction':
                            config = {
                                type: 'line',
                                data: chartData.satisfaction,
                                options: {
                                    responsive: true,
                                    maintainAspectRatio: false,
                                    plugins: {
                                        title: { display: true, text: 'Kalkulus I vs II: Trend Kepuasan' },
                                        legend: { display: true, position: 'top' }
                                    },
                                    scales: { y: { beginAtZero: true, max: 100 } }
                                }
                            };
                            break;
                            
                        case 'feedback':
                            config = {
                                type: 'doughnut',
                                data: chartData.feedback,
                                options: {
                                    responsive: true,
                                    maintainAspectRatio: false,
                                    plugins: {
                                        title: { display: true, text: 'Distribusi Feedback Mahasiswa' },
                                        legend: { position: 'bottom' }
                                    }
                                }
                            };
                            break;
                            
                        case 'issues':
                            config = {
                                type: 'bar',
                                data: chartData.issues,
                                options: {
                                    responsive: true,
                                    maintainAspectRatio: false,
                                    plugins: { title: { display: true, text: 'Trend Keluhan per Periode (dalam %)' } },
                                    scales: { y: { beginAtZero: true, max: 100 } }
                                }
                            };
                            break;
                            
                        case 'diagnosis':
                            config = {
                                type: 'bar',
                                data: chartData.diagnosis,
                                options: {
                                    responsive: true,
                                    maintainAspectRatio: false,
                                    plugins: {
                                        title: { display: true, text: 'Evidence: Isolated vs Systemic' },
                                        legend: { display: false }
                                    },
                                    scales: { y: { beginAtZero: true, max: 100 } }
                                }
                            };
                            break;
                    }
                    
                    currentChart = new Chart(ctx, config);
                    
                    // Show chart
                    statusDiv.style.display = 'none';
                    canvas.style.display = 'block';
                    
                    // Update content
                    document.getElementById('chartContent').innerHTML = chartContent[type] || '';
                    
                    // Show specific insights
                    toggleInsights(type);
                    
                    console.log('Chart created successfully:', type);
                    
                } catch (error) {
                    console.error('Chart creation error:', error);
                    statusDiv.textContent = 'âŒ Error: ' + error.message;
                    statusDiv.style.display = 'flex';
                }
            }, 300);
        }

        // Initialize
        function initDashboard() {
            if (typeof Chart === 'undefined') {
                updateStatus('error', 'âŒ Chart.js failed');
                
                // Try dynamic loading
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js';
                script.onload = () => {
                    chartReady = true;
                    updateStatus('ready', 'âœ… Ready');
                    showChart('satisfaction');
                };
                script.onerror = () => updateStatus('error', 'âŒ Network error');
                document.head.appendChild(script);
            } else {
                chartReady = true;
                updateStatus('ready', 'âœ… Ready');
                showChart('satisfaction');
            }
        }

        // IPG-ADD 2025-08-15
        // Function untuk toggle collapsible sections
        function toggleSection(sectionId) {
            const content = document.getElementById(sectionId);
            const header = content.previousElementSibling;
            const icon = header.querySelector('.toggle-icon');
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                icon.textContent = 'â–¼';
            } else {
                content.classList.add('active');
                icon.textContent = 'â–²';
            }
        }
        
        
        // Start when DOM ready
        document.addEventListener('DOMContentLoaded', () => {
            updateStatus('loading', 'ğŸ“¶ Loading...');
            setTimeout(initDashboard, 1000);
        });
    </script>
    
    <!-- Chart.js with fallback -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js" 
            onload="console.log('Chart.js loaded')" 
            onerror="console.log('Chart.js CDN failed')"></script>
</body>
</html>
