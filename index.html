<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDOM Interaktif - Data Storytelling Dashboard</title>
    
    <!-- Chart.js dari CDN dengan fallback -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chart.js/3.9.1/chart.min.js"></script>
    <script>
        // Fallback jika CDN gagal load
        if (typeof Chart === 'undefined') {
            document.write('<script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"><\/script>');
        }
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 15px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        /* Content Sections */
        .content-section {
            background: white;
            padding: 30px;
            margin: 25px 0;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .content-section:hover {
            transform: translateY(-2px);
        }
        
        .section-title {
            font-size: 2rem;
            color: #2563eb;
            border-bottom: 4px solid #3b82f6;
            padding-bottom: 15px;
            margin-bottom: 25px;
        }
        
        /* Stats Grid 2x2 */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 3px solid #e2e8f0;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            color: #3b82f6;
            margin-bottom: 10px;
            transition: all 0.5s ease;
        }
        
        .stat-label {
            color: #64748b;
            font-size: 1rem;
            font-weight: 500;
        }
        
        /* Data View Selector */
        .data-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .selector-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .selector-btn.active {
            background: #3b82f6;
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }
        
        .selector-btn:not(.active) {
            background: #f1f5f9;
            color: #64748b;
        }
        
        .selector-btn:not(.active):hover {
            background: #e2e8f0;
        }
        
        /* Chart Container */
        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        
        /* Alert Boxes */
        .alert-box {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 6px solid;
        }
        
        .alert-warning {
            background: #fef3c7;
            border-left-color: #f59e0b;
            color: #92400e;
        }
        
        .alert-info {
            background: #dbeafe;
            border-left-color: #3b82f6;
            color: #1e40af;
        }
        
        .alert-success {
            background: #dcfce7;
            border-left-color: #10b981;
            color: #065f46;
        }
        
        /* Collapsible Sections */
        .collapsible {
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .collapsible-header {
            background: #f8fafc;
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }
        
        .collapsible-header:hover {
            background: #f1f5f9;
        }
        
        .collapsible-content {
            padding: 20px;
            display: none;
            animation: slideDown 0.3s ease;
        }
        
        .collapsible-content.active {
            display: block;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        
        .data-table th {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .data-table td {
            padding: 15px;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .data-table tr:hover {
            background: #f8fafc;
        }
        
        .trend-up { background: #dcfce7; }
        .trend-down { background: #fecaca; }
        .trend-stable { background: #f0f9ff; }
        
        /* Summary Cards */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .summary-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .data-selector {
                flex-direction: column;
            }
            
            .selector-btn {
                width: 100%;
            }
        }
        
        /* Hidden class */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üöÄ Jika EDOM Interaktif...</h1>
            <div class="subtitle">Mendengar Suara Mahasiswa Melalui Data yang Bercerita</div>
            <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                Sebuah Eksplorasi Data Storytelling dalam Evaluasi Pendidikan
            </div>
        </div>

        <!-- Introduction -->
        <div class="content-section">
            <p style="font-size: 1.1em; margin-bottom: 20px; text-align: justify;">
                Di era digital yang serba cepat ini, kita sudah terbiasa dengan dashboard Netflix yang tahu persis film apa yang kita suka, 
                atau algoritma Spotify yang bisa meracik playlist sesuai mood kita. Namun, ketika berbicara tentang evaluasi pendidikan, 
                kita masih stuck dengan format EDOM tradisional yang terasa seperti survei tahun 90-an.
            </p>
            
            <div class="alert-box alert-info">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span style="margin-right: 10px;">üëÅÔ∏è</span>
                    <strong>Visi:</strong>
                </div>
                <p style="font-weight: 500;">
                    Bayangkan jika EDOM bisa menjadi sebuah dialog yang hidup, interaktif, dan benar-benar memberikan insight mendalam tentang apa yang terjadi di dalam kelas.
                </p>
            </div>
        </div>

        <!-- Key Statistics Dashboard -->
        <div class="content-section">
            <h2 class="section-title">üìä Dashboard Utama: Potret Kelas Kalkulus</h2>
            
            <div class="stats-grid">
                <div class="stat-card" style="background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);">
                    <div class="stat-number" id="satisfaction-counter" style="color: #10b981;">0%</div>
                    <div class="stat-label">Mahasiswa Merasa Puas</div>
                </div>
                
                <div class="stat-card" style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);">
                    <div class="stat-number" id="students-counter" style="color: #3b82f6;">0</div>
                    <div class="stat-label">Total Suara Mahasiswa</div>
                </div>
                
                <div class="stat-card" style="background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);">
                    <div class="stat-number" id="semesters-counter" style="color: #8b5cf6;">0</div>
                    <div class="stat-label">Semester Dievaluasi</div>
                </div>
                
                <div class="stat-card" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);">
                    <div class="stat-number" id="rating-counter" style="color: #f59e0b;">0.0</div>
                    <div class="stat-label">Rating Rata-rata</div>
                </div>
            </div>

            <p style="font-size: 1.1em; color: #4b5563;">
                Angka 65% mahasiswa yang puas terdengar cukup bagus, bukan? Tapi inilah yang menarik dari data storytelling: 
                angka itu hanya permulaan cerita. Yang lebih menarik adalah bagaimana tren kepuasan ini bergerak dari waktu ke waktu.
            </p>
        </div>

        <!-- Interactive Data Visualization -->
        <div class="content-section">
            <h2 class="section-title">üìà Plot Twist: Ketika Grafik Mengejutkan</h2>

            <!-- Data View Selector -->
            <div class="data-selector">
                <button class="selector-btn active" onclick="showDataView('satisfaction', this)">
                    üìä Kepuasan Mahasiswa
                </button>
                <button class="selector-btn" onclick="showDataView('feedback', this)">
                    üó£Ô∏è Distribusi Feedback
                </button>
                <button class="selector-btn" onclick="showDataView('issues', this)">
                    üö® Tren Masalah
                </button>
            </div>

            <!-- Chart Container -->
            <div class="chart-container">
                <div id="chart-loading" style="display: flex; justify-content: center; align-items: center; height: 100%; color: #6b7280;">
                    <div style="text-align: center;">
                        <div style="font-size: 2em; margin-bottom: 10px;">üìä</div>
                        <div>Loading chart...</div>
                    </div>
                </div>
                <canvas id="mainChart" style="display: none;"></canvas>
            </div>

            <!-- Detailed Issues Table - shown only when issues view is selected -->
            <div id="issues-detail" class="hidden">
                <h3 style="color: #1f2937; margin-bottom: 20px;">üìã Data Detail Keluhan per Semester</h3>
                <div style="overflow-x: auto;">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Mata Kuliah</th>
                                <th>Periode</th>
                                <th style="text-align: center;">Total Mahasiswa</th>
                                <th style="text-align: center;">Keluhan "Terlalu Cepat"</th>
                                <th style="text-align: center;">Keluhan "Kurang Interaksi"</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Kalkulus I</strong></td>
                                <td>2022/2023</td>
                                <td style="text-align: center;">49</td>
                                <td style="text-align: center;">
                                    <div><strong>2 mahasiswa</strong></div>
                                    <div style="font-size: 0.9em; color: #6b7280;">(4.08%)</div>
                                </td>
                                <td style="text-align: center;">
                                    <div><strong>1 mahasiswa</strong></div>
                                    <div style="font-size: 0.9em; color: #6b7280;">(2.04%)</div>
                                </td>
                            </tr>
                            <tr class="trend-up">
                                <td><strong>Kalkulus I</strong></td>
                                <td>2023/2024</td>
                                <td style="text-align: center;">50</td>
                                <td style="text-align: center;">
                                    <div><strong>1 mahasiswa</strong></div>
                                    <div style="font-size: 0.9em; color: #10b981;">(2.00%)</div>
                                </td>
                                <td style="text-align: center;">
                                    <div><strong>1 mahasiswa</strong></div>
                                    <div style="font-size: 0.9em; color: #10b981;">(2.00%)</div>
                                </td>
                            </tr>
                            <tr class="trend-down">
                                <td><strong>Kalkulus I</strong></td>
                                <td>2024/2025</td>
                                <td style="text-align: center;">43</td>
                                <td style="text-align: center;">
                                    <div><strong style="color: #ef4444;">5 mahasiswa</strong></div>
                                    <div style="font-size: 0.9em; color: #ef4444;">(11.63%)</div>
                                </td>
                                <td style="text-align: center;">
                                    <div><strong style="color: #ef4444;">4 mahasiswa</strong></div>
                                    <div style="font-size: 0.9em; color: #ef4444;">(9.30%)</div>
                                </td>
                            </tr>
                            <tr class="trend-stable">
                                <td><strong>Kalkulus II</strong></td>
                                <td>2023/2024</td>
                                <td style="text-align: center;">25</td>
                                <td style="text-align: center;">
                                    <div><strong style="color: #10b981;">0 mahasiswa</strong></div>
                                    <div style="font-size: 0.9em; color: #10b981;">(0.00%)</div>
                                </td>
                                <td style="text-align: center;">
                                    <div><strong style="color: #10b981;">0 mahasiswa</strong></div>
                                    <div style="font-size: 0.9em; color: #10b981;">(0.00%)</div>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Kalkulus II</strong></td>
                                <td>2024/2025</td>
                                <td style="text-align: center;">31</td>
                                <td style="text-align: center;">
                                    <div><strong style="color: #10b981;">0 mahasiswa</strong></div>
                                    <div style="font-size: 0.9em; color: #10b981;">(0.00%)</div>
                                </td>
                                <td style="text-align: center;">
                                    <div><strong>1 mahasiswa</strong></div>
                                    <div style="font-size: 0.9em; color: #6b7280;">(3.23%)</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div class="alert-box" style="background: #fecaca; border-left-color: #ef4444; color: #991b1b;">
                        <h4 style="font-weight: bold; margin-bottom: 10px;">üö® Alert: Lonjakan Dramatis</h4>
                        <p style="font-size: 0.9em;">
                            Kalkulus I 2024/2025 mengalami lonjakan keluhan "terlalu cepat" dari 2% menjadi 11.6% - 
                            peningkatan hampir 6x lipat!
                        </p>
                    </div>
                    <div class="alert-box" style="background: #fed7aa; border-left-color: #f59e0b; color: #92400e;">
                        <h4 style="font-weight: bold; margin-bottom: 10px;">üìä Pattern Menarik</h4>
                        <p style="font-size: 0.9em;">
                            Kalkulus II relatif bebas masalah pace, tapi mulai muncul keluhan interaksi di 2024/2025. 
                            Apakah ini early warning?
                        </p>
                    </div>
                </div>
            </div>

            <!-- Alert Box for Key Insights -->
            <div class="alert-box alert-warning">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span style="margin-right: 10px;">üìâ</span>
                    <strong>Pattern yang Mengejutkan:</strong>
                </div>
                <p>
                    Periode 2023/2024 menunjukkan performa puncak untuk kedua mata kuliah. Tapi kemudian, di 2024/2025, 
                    terjadi penurunan dramatis yang bersamaan. Kalkulus I turun 16%, Kalkulus II malah lebih parah dengan penurunan 21%. 
                    Apa yang sebenarnya terjadi?
                </p>
            </div>
        </div>

        <!-- Interactive Data Table -->
        <div class="content-section">
            <h2 class="section-title">üìã Data Detail: Eksplorasi Mendalam</h2>

            <div style="overflow-x: auto;">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Periode</th>
                            <th style="text-align: center;">Mahasiswa Puas</th>
                            <th style="text-align: center;">Persentase</th>
                            <th style="text-align: center;">Rating</th>
                            <th>Tren Cerita</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="trend-stable">
                            <td><strong>Kalkulus I 2022/2023</strong></td>
                            <td style="text-align: center;">33 dari 49</td>
                            <td style="text-align: center;"><strong>67.35%</strong></td>
                            <td style="text-align: center;">3.22</td>
                            <td>üìä Baseline</td>
                        </tr>
                        <tr class="trend-up">
                            <td><strong>Kalkulus I 2023/2024</strong></td>
                            <td style="text-align: center;">36 dari 50</td>
                            <td style="text-align: center;"><strong>72.00%</strong></td>
                            <td style="text-align: center;">3.39</td>
                            <td>üìà Peak Performance!</td>
                        </tr>
                        <tr class="trend-down">
                            <td><strong>Kalkulus I 2024/2025</strong></td>
                            <td style="text-align: center;">24 dari 43</td>
                            <td style="text-align: center;"><strong>55.81%</strong></td>
                            <td style="text-align: center;">3.38</td>
                            <td>üìâ Plot twist</td>
                        </tr>
                        <tr class="trend-up">
                            <td><strong>Kalkulus II 2023/2024</strong></td>
                            <td style="text-align: center;">19 dari 25</td>
                            <td style="text-align: center;"><strong>76.00%</strong></td>
                            <td style="text-align: center;">3.50</td>
                            <td>üåü Peak Performance!</td>
                        </tr>
                        <tr class="trend-down">
                            <td><strong>Kalkulus II 2024/2025</strong></td>
                            <td style="text-align: center;">17 dari 31</td>
                            <td style="text-align: center;"><strong>54.84%</strong></td>
                            <td style="text-align: center;">3.47</td>
                            <td>üìâ Plot twist</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Collapsible Analysis Sections -->
        <div class="content-section">
            <h2 class="section-title">üîç Analisis Mendalam</h2>

            <!-- Static Summary Section -->
            <div style="margin-bottom: 30px; padding: 25px; background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); border-radius: 10px; border-left: 6px solid #3b82f6;">
                <h3 style="color: #1e40af; margin-bottom: 20px;">üìä Ringkasan Temuan Utama</h3>
                <div class="summary-grid">
                    <div class="summary-card">
                        <h4 style="color: #374151; margin-bottom: 10px; font-size: 0.9rem;">üïµÔ∏è Diagnosis Utama</h4>
                        <p style="color: #6b7280; font-size: 0.85rem;">
                            <strong>Generation Gap:</strong> Mahasiswa 2024/2025 yang mengalami pembelajaran online ekstensif selama SMA 
                            membutuhkan pendekatan berbeda.
                        </p>
                    </div>
                    <div class="summary-card">
                        <h4 style="color: #374151; margin-bottom: 10px; font-size: 0.9rem;">‚ú® Kekuatan Tersembunyi</h4>
                        <p style="color: #6b7280; font-size: 0.85rem;">
                            <strong>Fondasi Solid:</strong> 65% mahasiswa masih puas, Kalkulus II konsisten perform baik, 
                            materi favorit tetap stabil.
                        </p>
                    </div>
                    <div class="summary-card">
                        <h4 style="color: #374151; margin-bottom: 10px; font-size: 0.9rem;">üéØ Solusi Terfokus</h4>
                        <p style="color: #6b7280; font-size: 0.85rem;">
                            <strong>Target Jelas:</strong> Perlambat pace (11.6% ‚Üí &lt;5%), tingkatkan interaksi (9.3% ‚Üí &lt;3%), 
                            capai 75% kepuasan dalam 1 tahun.
                        </p>
                    </div>
                </div>
                <p style="color: #1e40af; font-size: 0.9em; margin-top: 15px; font-style: italic;">
                    üí° Klik pada setiap bagian di bawah untuk eksplorasi mendalam dan strategi detail...
                </p>
            </div>

            <!-- Detective Work Section -->
            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleSection('detective')">
                    <h3 style="color: #374151;">üïµÔ∏è Detective Work: Mencari Pelaku di Balik Layar</h3>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="collapsible-content" id="detective">
                    <div class="alert-box" style="background: #fef3c7; border-left-color: #f59e0b; color: #92400e; margin-bottom: 20px;">
                        <h4 style="font-weight: bold; margin-bottom: 10px;">üéì Tersangka Utama: "The Generation Gap"</h4>
                        <p>
                            <strong>Kemungkinan terbesar:</strong> Mahasiswa angkatan 2024/2025 memiliki karakteristik yang berbeda dari angkatan sebelumnya. 
                            Mereka adalah generasi yang mengalami pembelajaran online ekstensif selama SMA akibat pandemi COVID-19.
                        </p>
                    </div>
                    
                    <p style="margin-bottom: 20px; color: #4b5563;">
                        Generasi ini mungkin membutuhkan pendekatan yang berbeda. Pembelajaran matematika secara virtual selama bertahun-tahun 
                        dapat menciptakan gap dalam keterampilan fundamental yang tidak mudah terdeteksi dalam tes standardized.
                    </p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div style="background: #dbeafe; padding: 15px; border-radius: 8px;">
                            <h5 style="color: #1e40af; font-weight: bold;">üìö Perubahan Kurikulum</h5>
                            <p style="color: #3b82f6; font-size: 0.9em;">Pressure untuk cover lebih banyak materi</p>
                        </div>
                        <div style="background: #f3e8ff; padding: 15px; border-radius: 8px;">
                            <h5 style="color: #7c3aed; font-weight: bold;">üè¢ Faktor Eksternal</h5>
                            <p style="color: #8b5cf6; font-size: 0.9em;">Tekanan institusional atau regulasi</p>
                        </div>
                        <div style="background: #dcfce7; padding: 15px; border-radius: 8px;">
                            <h5 style="color: #059669; font-weight: bold;">üí° Ekspektasi Berubah</h5>
                            <p style="color: #10b981; font-size: 0.9em;">Generasi digital dengan ekspektasi berbeda</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Silver Lining Section -->
            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleSection('silver')">
                    <h3 style="color: #374151;">‚ú® Silver Lining: Kekuatan yang Masih Bertahan</h3>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="collapsible-content" id="silver">
                    <div class="alert-box alert-success" style="margin-bottom: 20px;">
                        <h4 style="font-weight: bold; margin-bottom: 15px;">üéØ Materi Favorit yang Konsisten:</h4>
                        <ol style="color: #065f46; line-height: 1.8;">
                            <li><strong>1. Limit dan Fungsi</strong> - Selalu menjadi favorit mahasiswa</li>
                            <li><strong>2. Turunan</strong> - Banyak yang terkesan dengan penjelasannya</li>
                            <li><strong>3. Integral</strong> - Teknik-teknik yang diajarkan diminati</li>
                            <li><strong>4. Barisan dan Deret</strong> - Populer di Kalkulus II</li>
                        </ol>
                    </div>
                    
                    <p style="color: #4b5563;">
                        Yang menarik, Kalkulus II secara konsisten menunjukkan performa yang lebih baik. 
                        Hal ini mungkin karena ukuran kelas yang lebih kecil, mahasiswa yang sudah ter-filter, 
                        atau materi yang lebih cocok dengan gaya pengajaran dosen.
                    </p>
                </div>
            </div>

            <!-- Action Plan Section -->
            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleSection('action')">
                    <h3 style="color: #374151;">üéØ Action Plan: Dari Insight ke Implementasi</h3>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="collapsible-content" id="action">
                    <h4 style="color: #dc2626; margin-bottom: 20px;">üö® Immediate Actions (6 Bulan Pertama):</h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="background: #fecaca; border-left: 4px solid #ef4444; padding: 20px; border-radius: 8px;">
                            <h5 style="color: #991b1b; font-weight: bold;">1. Recalibrate the Pace</h5>
                            <ul style="color: #dc2626; font-size: 0.9em; margin-top: 10px; line-height: 1.6;">
                                <li>‚Ä¢ Learning checkpoints setiap 20-30 menit</li>
                                <li>‚Ä¢ Dedicated time untuk Q&A</li>
                                <li>‚Ä¢ Target: turunkan keluhan dari 11.6% ke &lt;5%</li>
                            </ul>
                        </div>
                        
                        <div style="background: #fecaca; border-left: 4px solid #ef4444; padding: 20px; border-radius: 8px;">
                            <h5 style="color: #991b1b; font-weight: bold;">2. Boost Interaction</h5>
                            <ul style="color: #dc2626; font-size: 0.9em; margin-top: 10px; line-height: 1.6;">
                                <li>‚Ä¢ Teknik "think-pair-share" untuk engagement</li>
                                <li>‚Ä¢ Small group discussions</li>
                                <li>‚Ä¢ Target: turunkan keluhan dari 9.3% ke &lt;3%</li>
                            </ul>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-top: 25px;">
                        <div style="background: #bfdbfe; padding: 20px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold; color: #1e40af;">70%</div>
                            <div style="color: #3b82f6; font-size: 0.9em;">Target 6 Bulan</div>
                        </div>
                        <div style="background: #bbf7d0; padding: 20px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold; color: #059669;">75%</div>
                            <div style="color: #10b981; font-size: 0.9em;">Target 1 Tahun</div>
                        </div>
                        <div style="background: #fde68a; padding: 20px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold; color: #d97706;">15%</div>
                            <div style="color: #f59e0b; font-size: 0.9em;">Feedback Super Positif</div>
                        </div>
                        <div style="background: #fecaca; padding: 20px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold; color: #dc2626;">&lt;3%</div>
                            <div style="color: #ef4444; font-size: 0.9em;">Keluhan Maksimal</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer dengan Epilog -->
        <div class="content-section" style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);">
            <h2 class="section-title">üöÄ Epilog: Menuju EDOM yang Benar-Benar Interaktif</h2>
            
            <p style="font-size: 1.1em; margin-bottom: 25px; color: #4b5563; text-align: justify;">
                Cerita data kalkulus ini hanyalah contoh kecil dari apa yang bisa terjadi ketika kita memperlakukan EDOM 
                bukan sekadar kewajiban administratif, tapi sebagai sumber insight yang berharga.
            </p>
            
            <div class="alert-box alert-info" style="margin-bottom: 25px;">
                <h3 style="font-weight: bold; margin-bottom: 10px;">Visi EDOM Interaktif masa depan:</h3>
                <p>
                    Real-time feedback dashboard, drill-down capabilities per topik bahasan, automated alert system 
                    untuk masalah yang emerging, dan continuous feedback loop antara dosen dan mahasiswa.
                </p>
            </div>
            
            <div class="alert-box alert-success">
                <h3 style="font-weight: bold; margin-bottom: 10px;">üåü The Bottom Line:</h3>
                <p style="font-size: 1.1em; font-weight: 500;">
                    Di balik setiap angka EDOM, ada cerita tentang mahasiswa yang berjuang memahami konsep, 
                    dosen yang berusaha memberikan yang terbaik, dan dinamika pembelajaran yang unik. 
                    Ketika kita mendengarkan cerita-cerita ini dengan seksama, kita tidak hanya mendapatkan data - 
                    kita mendapatkan wisdom untuk menciptakan pendidikan yang lebih baik.
                </p>
            </div>
            
            <div style="text-align: center; margin-top: 30px; padding: 25px; background: #f1f5f9; border-radius: 10px;">
                <p style="color: #6b7280;">
                    <strong>üìä Data Story ini disusun berdasarkan:</strong><br />
                    198 suara mahasiswa | 5 semester evaluasi | 2022/2023 - 2024/2025<br />
                    <em>Dipersembahkan dengan semangat data storytelling dan secangkir kopi ‚òï</em>
                </p>
            </div>
        </div>
    </div>

    <script>
        // Global variables untuk charts
        let currentChart = null;
        
        // Data untuk visualisasi
        const satisfactionData = {
            labels: ['Kal I 22/23', 'Kal I 23/24', 'Kal I 24/25', 'Kal II 23/24', 'Kal II 24/25'],
            datasets: [{
                label: 'Kepuasan Mahasiswa (%)',
                data: [67.35, 72.00, 55.81, 76.00, 54.84],
                borderColor: '#3b82f6',
                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                fill: true,
                tension: 0.4,
                pointBackgroundColor: '#3b82f6',
                pointBorderColor: '#ffffff',
                pointBorderWidth: 3,
                pointRadius: 8
            }]
        };
        
        const feedbackData = {
            labels: ['Super Positif', 'Puas Diam-diam', 'Pemberi Saran', 'Komplen'],
            datasets: [{
                data: [7.6, 37.9, 19.7, 34.9],
                backgroundColor: ['#10b981', '#3b82f6', '#f59e0b', '#ef4444'],
                borderWidth: 3,
                borderColor: '#ffffff'
            }]
        };
        
        const issuesData = {
            labels: ['Pace Terlalu Cepat', 'Kurang Interaksi'],
            datasets: [
                {
                    label: '2022/2023',
                    data: [4.08, 2.04],
                    backgroundColor: '#10b981'
                },
                {
                    label: '2023/2024',
                    data: [2.00, 2.00],
                    backgroundColor: '#3b82f6'
                },
                {
                    label: '2024/2025',
                    data: [11.63, 9.30],
                    backgroundColor: '#ef4444'
                }
            ]
        };

        // Function untuk animasi counter
        function animateCounter(element, target, suffix = '', duration = 2000) {
            let start = 0;
            const increment = target / (duration / 50);
            const timer = setInterval(() => {
                start += increment;
                if (start >= target) {
                    element.textContent = target + suffix;
                    clearInterval(timer);
                } else {
                    if (suffix === '%' || suffix === '') {
                        element.textContent = Math.floor(start) + suffix;
                    } else {
                        element.textContent = start.toFixed(1) + suffix;
                    }
                }
            }, 50);
        }

        // Function untuk show data view
        function showDataView(viewType, clickedButton) {
            console.log('showDataView called with:', viewType);
            
            // Show loading indicator
            const loadingDiv = document.getElementById('chart-loading');
            const canvas = document.getElementById('mainChart');
            
            if (loadingDiv) loadingDiv.style.display = 'flex';
            if (canvas) canvas.style.display = 'none';
            
            // Update button active states
            document.querySelectorAll('.selector-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            if (clickedButton) {
                clickedButton.classList.add('active');
            }
            
            // Show/hide issues detail table
            const issuesDetail = document.getElementById('issues-detail');
            if (viewType === 'issues') {
                issuesDetail.classList.remove('hidden');
            } else {
                issuesDetail.classList.add('hidden');
            }
            
            // Check if Chart.js is available
            if (typeof Chart === 'undefined') {
                console.error('Chart.js is not loaded!');
                if (loadingDiv) {
                    loadingDiv.innerHTML = '<div style="text-align: center; color: #ef4444;"><div style="font-size: 2em; margin-bottom: 10px;">‚ö†Ô∏è</div><div>Chart.js failed to load. Please refresh the page.</div></div>';
                }
                return;
            }
            
            // Small delay to show loading
            setTimeout(() => {
                createChart(viewType, loadingDiv, canvas);
            }, 300);
        }
        
        function createChart(viewType, loadingDiv, canvas) {
            // Destroy existing chart
            if (currentChart) {
                currentChart.destroy();
                currentChart = null;
            }
            
            if (!canvas) {
                console.error('Canvas element not found!');
                return;
            }
            
            const ctx = canvas.getContext('2d');
            
            // Create new chart based on view type
            let chartConfig = {};
            
            try {
                switch (viewType) {
                    case 'satisfaction':
                        chartConfig = {
                            type: 'line',
                            data: satisfactionData,
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    title: {
                                        display: true,
                                        text: 'Tren Kepuasan Mahasiswa per Semester',
                                        font: { size: 16, weight: 'bold' }
                                    },
                                    legend: {
                                        display: false
                                    }
                                },
                                scales: {
                                    y: {
                                        beginAtZero: true,
                                        max: 100,
                                        title: {
                                            display: true,
                                            text: 'Persentase Kepuasan (%)'
                                        }
                                    },
                                    x: {
                                        title: {
                                            display: true,
                                            text: 'Periode'
                                        }
                                    }
                                }
                            }
                        };
                        break;
                        
                    case 'feedback':
                        chartConfig = {
                            type: 'doughnut',
                            data: feedbackData,
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    title: {
                                        display: true,
                                        text: 'Distribusi Jenis Feedback Mahasiswa',
                                        font: { size: 16, weight: 'bold' }
                                    },
                                    legend: {
                                        position: 'right'
                                    }
                                }
                            }
                        };
                        break;
                        
                    case 'issues':
                        chartConfig = {
                            type: 'bar',
                            data: issuesData,
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    title: {
                                        display: true,
                                        text: 'Tren Keluhan Utama per Periode',
                                        font: { size: 16, weight: 'bold' }
                                    }
                                },
                                scales: {
                                    y: {
                                        beginAtZero: true,
                                        title: {
                                            display: true,
                                            text: 'Persentase Keluhan (%)'
                                        }
                                    },
                                    x: {
                                        title: {
                                            display: true,
                                            text: 'Jenis Keluhan'
                                        }
                                    }
                                }
                            }
                        };
                        break;
                        
                    default:
                        console.error('Unknown view type:', viewType);
                        return;
                }
                
                // Create new chart
                console.log('Creating chart with config:', chartConfig);
                currentChart = new Chart(ctx, chartConfig);
                console.log('Chart created successfully');
                
                // Hide loading and show chart
                if (loadingDiv) loadingDiv.style.display = 'none';
                if (canvas) canvas.style.display = 'block';
                
            } catch (error) {
                console.error('Error creating chart:', error);
                if (loadingDiv) {
                    loadingDiv.innerHTML = '<div style="text-align: center; color: #ef4444;"><div style="font-size: 2em; margin-bottom: 10px;">‚ùå</div><div>Error loading chart: ' + error.message + '</div></div>';
                }
            }
        }

        // Function untuk toggle collapsible sections
        function toggleSection(sectionId) {
            const content = document.getElementById(sectionId);
            const header = content.previousElementSibling;
            const icon = header.querySelector('.toggle-icon');
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                icon.textContent = '‚ñº';
            } else {
                content.classList.add('active');
                icon.textContent = '‚ñ≤';
            }
        }

        // Initialize dashboard when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing dashboard...');
            
            // Check if Chart.js is loaded
            if (typeof Chart === 'undefined') {
                console.error('Chart.js not loaded! Retrying in 1 second...');
                setTimeout(initializeDashboard, 1000);
                return;
            }
            
            initializeDashboard();
        });
        
        function initializeDashboard() {
            console.log('Initializing dashboard...');
            
            // Animate counters
            setTimeout(() => {
                animateCounter(document.getElementById('satisfaction-counter'), 65, '%');
                animateCounter(document.getElementById('students-counter'), 198);
                animateCounter(document.getElementById('semesters-counter'), 5);
                animateCounter(document.getElementById('rating-counter'), 3.39);
            }, 500);
            
            // Initialize default chart
            setTimeout(() => {
                const firstButton = document.querySelector('.selector-btn.active');
                showDataView('satisfaction', firstButton);
            }, 1000);
        }
    </script>
</body>
</html>
